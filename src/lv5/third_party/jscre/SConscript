Import('context')

def Build():
  env = context.Clone()
  env.Append(CPPDEFINES=["SUPPORT_UTF8", "NO_RECURSE", "SUPPORT_UCP"])
  env.Replace(CCFLAGS="")
  return env.StaticLibrary(
      'jscre',
      ['pcre_compile.cpp', 'pcre_exec.cpp', 'pcre_tables.cpp',
       'pcre_ucp_searchfuncs.cpp', 'pcre_xclass.cpp'])

program = Build()
Return('program')
